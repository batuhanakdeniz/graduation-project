{"ast":null,"code":"var _jsxFileName = \"/Users/batuhanakdeniz/Documents/GitHub/graduation-project/solidarity-platform/src/components/RegistrationForm/RegistrationForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport FormikControl from \"../FormComponents/FormikControl\";\nimport { Button } from '@chakra-ui/react';\nimport './Registration.scss';\nimport AuthContext from '../../context/AuthContext';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegistrationForm({\n  match\n}) {\n  _s();\n\n  const {\n    getLoggedIn\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const options = [{\n    key: 'Email',\n    value: 'emailoc'\n  }, {\n    key: 'Telephone',\n    value: 'telephonemoc'\n  }];\n  const initialValues = {\n    userName: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    registrationType: '',\n    password: '',\n    confirmPassword: '',\n    modeOfContact: '',\n    phone: ''\n  };\n  const validationSchema = Yup.object({\n    userName: Yup.string().required('Required'),\n    email: Yup.string().email('Invalid Email Format').required('Required'),\n    password: Yup.string().required('Required'),\n    firstName: Yup.string().required('Required'),\n    lastName: Yup.string().required('Required'),\n    confirmPassword: Yup.string().oneOf([Yup.ref('password'), ''], 'Passwords must match').required('Required'),\n    modeOfContact: Yup.string().required('Required'),\n    phone: Yup.string().when('modeOfContact', {\n      is: 'telephonemoc',\n      then: Yup.string().required('Required')\n    })\n  });\n  const dropdownOptions = [{\n    key: `Option ${match.params.userType}`,\n    value: match.params.userType\n  }];\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  async function onSubmit(values) {\n    try {\n      setIsSubmitting(true);\n      await axios.post(`http://localhost:5000/signup/${match.params.userType}`, values);\n      await getLoggedIn();\n      history.push(\"/\");\n    } catch (values) {\n      alert(values.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registrationFrom\",\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: onSubmit,\n      children: formik => {\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakraselect\",\n            type: \"text\",\n            label: \"Registration Type\",\n            name: \"selectOption\",\n            options: dropdownOptions,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"text\",\n            label: \"User Name\",\n            name: \"userName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"text\",\n            label: \"First Name\",\n            name: \"firstName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"text\",\n            label: \"Lastname\",\n            name: \"lastName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"email\",\n            label: \" Email\",\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"password\",\n            label: \"Password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"password\",\n            label: \"Confirm Password\",\n            name: \"confirmPassword\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakraradio\",\n            label: \"Mode of Contact\",\n            name: \"modeOfContact\",\n            options: options\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormikControl, {\n            control: \"chakrainput\",\n            type: \"text\",\n            label: \"Phone Number\",\n            name: \"phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            isLoading: isSubmitting,\n            loadingText: \"Submitting\",\n            colorScheme: \"teal\",\n            type: \"submit\",\n            disabled: !formik.isValid,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegistrationForm, \"6Sch4HLq5QEnX+2bGThPc+MDbyM=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegistrationForm;\nexport default RegistrationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"sources":["/Users/batuhanakdeniz/Documents/GitHub/graduation-project/solidarity-platform/src/components/RegistrationForm/RegistrationForm.js"],"names":["React","useContext","useState","Form","Formik","Yup","FormikControl","Button","AuthContext","axios","useHistory","RegistrationForm","match","getLoggedIn","history","options","key","value","initialValues","userName","firstName","lastName","email","registrationType","password","confirmPassword","modeOfContact","phone","validationSchema","object","string","required","oneOf","ref","when","is","then","dropdownOptions","params","userType","isSubmitting","setIsSubmitting","onSubmit","values","post","push","alert","message","formik","isValid"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { Form, Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport FormikControl from \"../FormComponents/FormikControl\"\r\nimport { Button } from '@chakra-ui/react'\r\nimport './Registration.scss';\r\nimport AuthContext from '../../context/AuthContext';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nfunction RegistrationForm({ match }) {\r\n    const { getLoggedIn } = useContext(AuthContext);\r\n    const history = useHistory();\r\n\r\n    const options = [\r\n        { key: 'Email', value: 'emailoc' },\r\n        { key: 'Telephone', value: 'telephonemoc' }\r\n    ]\r\n    const initialValues = {\r\n        userName: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        registrationType: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        modeOfContact: '',\r\n        phone: ''\r\n    }\r\n    const validationSchema = Yup.object({\r\n        userName: Yup.string().required('Required'),\r\n        email: Yup.string().email('Invalid Email Format').required('Required'),\r\n        password: Yup.string().required('Required'),\r\n        firstName: Yup.string().required('Required'),\r\n        lastName: Yup.string().required('Required'),\r\n        confirmPassword: Yup.string().oneOf([Yup.ref('password'), ''], 'Passwords must match').required('Required'),\r\n        modeOfContact: Yup.string().required('Required'),\r\n        phone: Yup.string().when('modeOfContact', {\r\n            is: 'telephonemoc',\r\n            then: Yup.string().required('Required')\r\n        })\r\n    })\r\n    const dropdownOptions = [\r\n        { key: `Option ${match.params.userType}`, value: match.params.userType }\r\n    ]\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n    async function onSubmit(values) {\r\n        try {\r\n            setIsSubmitting(true);\r\n\r\n            await axios.post(`http://localhost:5000/signup/${match.params.userType}`, values);\r\n            await getLoggedIn();\r\n\r\n            history.push(\"/\");\r\n        } catch (values) {\r\n            alert(values.message);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"registrationFrom\">\r\n            <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={onSubmit}\r\n            >\r\n                {\r\n                    formik => {\r\n                        return (\r\n                            <Form>\r\n\r\n                                <FormikControl\r\n                                    control='chakraselect'\r\n                                    type='text'\r\n                                    label='Registration Type'\r\n                                    name='selectOption'\r\n                                    options={dropdownOptions}\r\n                                    disabled={true}\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='text'\r\n                                    label='User Name'\r\n                                    name='userName'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='text'\r\n                                    label='First Name'\r\n                                    name='firstName'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='text'\r\n                                    label='Lastname'\r\n                                    name='lastName'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='email'\r\n                                    label=' Email'\r\n                                    name='email'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='password'\r\n                                    label='Password'\r\n                                    name='password'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='password'\r\n                                    label='Confirm Password'\r\n                                    name='confirmPassword'\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakraradio'\r\n                                    label='Mode of Contact'\r\n                                    name='modeOfContact'\r\n                                    options={options}\r\n                                />\r\n                                <FormikControl\r\n                                    control='chakrainput'\r\n                                    type='text'\r\n                                    label='Phone Number'\r\n                                    name='phone'\r\n                                />\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    isLoading={isSubmitting}\r\n                                    loadingText=\"Submitting\"\r\n                                    colorScheme=\"teal\"\r\n                                    type='submit'\r\n                                    disabled={!formik.isValid}\r\n                                >\r\n                                    Submit\r\n                                </Button>\r\n                            </Form>\r\n                        )\r\n                    }\r\n                }\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegistrationForm\r\n"]},"metadata":{},"sourceType":"module"}